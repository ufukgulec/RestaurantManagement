@model WidgetModel
<div class="card card-custom gutter-b">
    <div class="card-header border-0 py-5">
        <h3 class="card-title font-weight-bolder">@Model.widgetName</h3>
        <div class="card-toolbar">
            <div class="dropdown dropdown-inline">
                <a href="#" class="btn btn-clean btn-sm btn-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="ki ki-bold-more-hor"></i>
                </a>
                <div class="dropdown-menu dropdown-menu-md dropdown-menu-right">
                    <ul class="navi navi-hover py-5">
                        @foreach (var item in Model.widgetActions)
                        {
                            <li class="navi-item">
                                <a href="#" class="navi-link">
                                    <span class="navi-icon">
                                        <i class="flaticon2-drop"></i>
                                    </span>
                                    <span class="navi-text">New Group</span>
                                </a>
                            </li>
                        }
                        <li class="navi-separator my-3"></li>
                        <li class="navi-item">
                            <a href="#" class="navi-link">
                                <span class="navi-icon">
                                    <i class="flaticon2-magnifier-tool"></i>
                                </span>
                                <span class="navi-text">Help</span>
                            </a>
                        </li>
                        <li class="navi-item">
                            <a href="#" class="navi-link">
                                <span class="navi-icon">
                                    <i class="flaticon2-bell-2"></i>
                                </span>
                                <span class="navi-text">Privacy</span>
                                <span class="navi-link-badge">
                                    <span class="label label-light-danger label-rounded font-weight-bold">5</span>
                                </span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="card-body">
        @if (Model.widgetEntities.Count > 0)
        {
            <div class="d-flex flex-wrap align-items-center py-1">
                <div class="symbol symbol-80 symbol-light-danger mr-5">
                    <span class="symbol-label font-size-h2">@Model.widgetEntities.First().Text[0]</span>
                </div>
                <div class="d-flex flex-column flex-grow-1 my-lg-0 my-2 pr-3">
                    <a href="#" class="text-dark font-weight-bolder text-hover-primary font-size-h5">
                        @Model.widgetEntities.First().Text
                    </a>
                    <span class="text-muted font-weight-bold font-size-lg">@Model.widgetEntities.First().SubText : @Model.widgetEntities.First().Count</span>
                </div>
                <div class="d-flex flex-column w-100 mt-12">
                    <span class="text-dark mr-2 font-size-lg font-weight-bolder pb-3">Satış Oranı</span>
                    <div class="progress progress-xs w-100">
                        @{
                            var toplam = Model.widgetEntities.Count;

                            var per = Convert.ToInt32(Model.widgetEntities.First().Count) * Convert.ToDecimal(100 / toplam);
                        }
                        <div class="progress-bar bg-danger" role="progressbar" style="width: @per%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
                <div class="d-flex flex-column mt-10">
                    <div class="text-dark mr-2 font-size-lg font-weight-bolder pb-4">Takip</div>
                    <div class="d-flex">
                        @{
                            if (Model.widgetEntities.Count > 1)
                            {
                                for (int i = 1; i < Model.widgetEntities.Count; i++)
                                {
                                    <a href="#" class="symbol symbol-50 symbol-light-danger mr-3">
                                        <div class="symbol-label">
                                            <span class="symbol-label font-size-h2" data-toggle="tooltip" title="" data-placement="top" data-original-title="@Model.widgetEntities[i].Text : @Model.widgetEntities[i].Count">@Model.widgetEntities[i].Text[0]</span>
                                        </div>
                                    </a>
                                }
                            }
                            else
                            {
                                <div class="spinner spinner-danger mr-15"></div> <p class="mb-0">Yeni Siparişler Bekleniyor...</p>
                            }
                        }
                    </div>
                </div>
            </div>
        }
        else
        {
            <h2 class="text-dark pb-5 font-weight-bolder">Başlangıç</h2>
            <p class="text-muted pb-5 font-size-h5">
                Bugün henüz satışa başlamadınız...
                <br>Satış yaptıkça bu alanda en çok
                <br>satılan kategoriler satış sayılarına göre listelenir.
            </p>
            <a href="#" class="btn btn-danger font-weight-bold py-2 px-6">Satışa Başla</a>
        }
    </div>
</div>